{% extends "layouts/_EDIT.html" %}

{% set headerActive = "tasks" %}
{% set back = "true" %}


{% block content %}

<div class="govuk-grid-row"> 
  <div class="govuk-grid-column-two-thirds">  

    <span class="govuk-caption-l">Task details</span>
    <h1 class="govuk-heading-l">Edit task</h1>

    <form class="form" action="edit-task-date" method="post">

    {{ govukInput({
      label: {
        text: "Task name",
        classes: "govuk-fieldset__legend--s"
      },
      id: "task-name",
      name: "taskName",
      value: "Complete your autumn school census return"
    }) }}

    {{ govukTextarea({
      name: "taskDescription",
      id: "task-description",
      value: "Do not wait until the deadline. You should complete your school census on school census day or as close to school census day as possible",
      label: {
        text: "Description (optional)",
        classes: "govuk-fieldset__legend--s"
      },
      hint: {
        text: "Describe the task you are creating, if needed."
      }
    }) }}

    {{ govukInput({
      label: {
        text: "Link (optional)",
        classes: "govuk-fieldset__legend--s"
      },
      hint: {
        text: "Enter a link that takes school business professionals to where they can complete the task, if possible. "
      },
      id: "taskLink",
      name: "task-link",
      value: "https://www.gov.uk/guidance/school-census-submission"
    }) }}

    
    {{ govukRadios({
      name: "requirement",
      fieldset: {
        legend: {
          text: "Requirement",
          classes: "govuk-fieldset__legend--s"
        }
      },
      items: [
        {
          value: "mandatory",
          text: "Mandatory",
          hint: {
            text: "School business professionals must complete this subtask."
          },
          checked: "true"
        },
        {
          value: "conditional",
          text: "Conditional",
          hint: {
            text: "School business professionals can only complete this subtask if they meet certain criteria or as a response to a situation."
          }
        },
        {
          value: "optional",
          text: "Optional",
          hint: {
            text: "School business professionals do not have to complete this subtask. It is best practice only."
          }
        }
      ]
    }) }}

    {% set exactstartHtml %}
{{ govukDateInput({
  id: "exact-start-date",
  namePrefix: "exact-start-date",
  fieldset: {
    legend: {
      text: ""
    }
  },
  items: [
    {
      classes: "govuk-input--width-2",
      name: "day",
      value: "3"
    },
    {
      classes: "govuk-input--width-2",
      name: "month",
      value: "10"
    },
    {
      classes: "govuk-input--width-4",
      name: "year",
      value: "2024"
    }
  ]
}) }}
{% endset -%}

{% set monthonlyHtml %}
{{ govukDateInput({
  id: "exact-due-date",
  namePrefix: "exact-due-date",
  fieldset: {
    legend: {
      text: ""
    }
  }
}) }}
{% endset -%}


{{ govukRadios({
  name: "task-start-date",
  fieldset: {
    legend: {
      text: "Start date",
      isPageHeading: false,
      classes: "govuk-fieldset__legend--s"
    }
  },
  hint: {
    text: "Choose the level of detail you have about the date that school business professionals can begin the subtask."
  },
  items: [
    {
      value: "exact-start",
      text: "Exact start date",
      checked: true,
      conditional: {
        html: exactstartHtml
      }
    },
    {
      value: "month-only",
      text: "Month only",
      conditional: {
        html: monthonlyHtml
      }
    },
    {
      value: "no-start-date",
      text: "No start date"
    }
  ]
}) }}



    {% set exactduedateHtml %}
    {{ govukDateInput({
      id: "exact-due-date",
      namePrefix: "exact-due-date",
      fieldset: {
        legend: {
          text: ""
        }
      },
      items: [
      {
        classes: "govuk-input--width-2",
        name: "day",
        value: "6"
      },
      {
        classes: "govuk-input--width-2",
        name: "month",
        value: "11"
      },
      {
        classes: "govuk-input--width-4",
        name: "year",
        value: "2024"
      }
    ]
    }) }}
    {% endset -%}

    {% set monthonlyduedateHtml %}
    {{ govukDateInput({
      id: "month-only-due-date",
      namePrefix: "month-only-due-date",
      fieldset: {
        legend: {
          text: ""
        }
      }
    }) }}
    {% endset -%}


    {{ govukRadios({
      name: "due-date",
      fieldset: {
        legend: {
          text: "Due date",
          isPageHeading: true,
          classes: "govuk-fieldset__legend--s"
        }
      },
      hint: {
        text: "Choose the level of detail you have about the date that school business professionals must finish the subtask by."
      },
      items: [
        {
          value: "exact-due-date",
          text: "Exact due date",
          checked: true,
          conditional: {
            html: exactduedateHtml
          }
        },
        {
          value: "month-only-due-date",
          text: "Month only",
          conditional: {
            html: monthonlyduedateHtml
          }
        },
        {
          value: "no-due-date",
          text: "No due date"
        }
      ]
    }) }}

    {{ govukTextarea({
      name: "commentsDetail",
      id: "comments-detail",
      label: {
        text: "Comments (optional)",
        classes: "govuk-fieldset__legend--s"
      },
      hint: {
        text: "Enter any additional information you want to make a note of. This will be seen by anyone viewing your task."
      }
    }) }}



    <div class="govuk-button-group">
      {{ govukButton({
        text: "Continue"
      }) }}
    
      <a class="govuk-link" href="javascript:history.back()">Cancel</a>
    </div>

  </form>
      


{% endblock %}



