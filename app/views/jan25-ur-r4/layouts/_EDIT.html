{% set serviceName = "Manage your DfE Connect data" %}

{% extends "../layouts/_BASE.html" %}  

{% block header %}

{% if nested %}
<header class="dfe-header" role="banner">
  <div class="govuk-width-container dfe-header__container">
     <div class="dfe-header__logo">
        <a class="dfe-header__link" href="/" aria-label="DfE homepage">
        <img src="/public/images/dfe-logo.png" class="dfe-logo" alt="Department for Education">
        <img src="/public/images/dfe-logo-alt.png" class="dfe-logo-hover" alt="Department for Education">
        </a>
     </div>
     <div class="dfe-header__content" id="content-header">
        <ul class="dfe-header__action-links">
           <li>
              <a href="power-bi" class="govuk-link govuk-link--inverse">Explore DfE Connect insights</a>
           </li>
           <li>
              <a href="sign-out" class="govuk-link govuk-link--inverse">Sign out</a>
           </li>
        </ul>
        <div class="dfe-header__menu">
           <button class="dfe-header__menu-toggle" id="toggle-menu" aria-controls="header-navigation" aria-expanded="false">Menu</button>
        </div>
        </div>
     </div>
  </div>
  <div class="govuk-width-container dfe-header__service-name">
     <a href="/" class="dfe-header__link--service">Manage your DfE Connect data</a>
  </div>
  <nav class="dfe-header__navigation" id="header-navigation" role="navigation" aria-label="Primary navigation" aria-labelledby="label-navigation">
     <div class="govuk-width-container">
        <p class="dfe-header__navigation-title">
           <span id="label-navigation">
              Menu
        <div id="extwaiokist" style="display:none" v="bmmch" q="f0ae2e3d" c="594.5" i="601" u="0.751" s="04272401" sg="svr_09102316-ga_04272401-bai_04252415" d="1" w="false" e="}" a="2" m="BMe=" vn="9colr"><div id="extwaigglbit" style="display:none" v="bmmch" q="f0ae2e3d" c="594.5" i="601" u="0.751" s="04272401" sg="svr_09102316-ga_04272401-bai_04252415" d="1" w="false" e="}" a="2" m="BMe="></div></div></span>
        <button class="dfe-header__navigation-close" id="close-menu">
           <svg class="dfe-icon dfe-icon__close" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" focusable="false" width="27" height="27">
              <path d="M13.41 12l5.3-5.29a1 1 0 1 0-1.42-1.42L12 10.59l-5.29-5.3a1 1 0 0 0-1.42 1.42l5.3 5.29-5.3 5.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0l5.29-5.3 5.29 5.3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"></path>
           </svg>
           <span class="govuk-visually-hidden">Close menu</span>
        </button>
        </p>
        <ul class="dfe-header__navigation-list">
            <li class="dfe-header__navigation-item {% if headerActive == 'home' %}dfe-header__navigation-item--current{% endif %}">
              <a class="dfe-header__navigation-link" href="../homepage">
                 Home
                 <svg class="dfe-icon dfe-icon__chevron-right" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" width="34" height="34">
                    <path d="M15.5 12a1 1 0 0 1-.29.71l-5 5a1 1 0 0 1-1.42-1.42l4.3-4.29-4.3-4.29a1 1 0 0 1 1.42-1.42l5 5a1 1 0 0 1 .29.71z"></path>
                 </svg>
              </a>
           </li>
           <li class="dfe-header__navigation-item {% if headerActive == 'tasks' %}dfe-header__navigation-item--current{% endif %}">
              <a class="dfe-header__navigation-link" href="../dfe-connect-pages">
                 Content pages
                 <svg class="dfe-icon dfe-icon__chevron-right" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" width="34" height="34">
                    <path d="M15.5 12a1 1 0 0 1-.29.71l-5 5a1 1 0 0 1-1.42-1.42l4.3-4.29-4.3-4.29a1 1 0 0 1 1.42-1.42l5 5a1 1 0 0 1 .29.71z"></path>
                 </svg>
              </a>
           </li>
           <li class="dfe-header__navigation-item {% if headerActive == 'services' %}dfe-header__navigation-item--current{% endif %}">
              <a class="dfe-header__navigation-link" href="../teams">
                 Teams
                 <svg class="dfe-icon dfe-icon__chevron-right" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" width="34" height="34">
                    <path d="M15.5 12a1 1 0 0 1-.29.71l-5 5a1 1 0 0 1-1.42-1.42l4.3-4.29-4.3-4.29a1 1 0 0 1 1.42-1.42l5 5a1 1 0 0 1 .29.71z"></path>
                 </svg>
              </a>
           </li>
           <li class="dfe-header__navigation-item {% if headerActive == 'requests' %}dfe-header__navigation-item--current{% endif %}">
            <a class="dfe-header__navigation-link" href="../requests">
               Requests
               <svg class="dfe-icon dfe-icon__chevron-right" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" width="34" height="34">
                  <path d="M15.5 12a1 1 0 0 1-.29.71l-5 5a1 1 0 0 1-1.42-1.42l4.3-4.29-4.3-4.29a1 1 0 0 1 1.42-1.42l5 5a1 1 0 0 1 .29.71z"></path>
               </svg>
            </a>
         </li>
        </ul>
     </div>
  </nav>
</header>

{% elseif notNested %}

<header class="dfe-header" role="banner">
  <div class="govuk-width-container dfe-header__container">
     <div class="dfe-header__logo">
        <a class="dfe-header__link" href="/" aria-label="DfE homepage">
        <img src="/public/images/dfe-logo.png" class="dfe-logo" alt="Department for Education">
        <img src="/public/images/dfe-logo-alt.png" class="dfe-logo-hover" alt="Department for Education">
        </a>
     </div>
     <div class="dfe-header__content" id="content-header">
        <ul class="dfe-header__action-links">
           <li>
              <a href="power-bi" class="govuk-link govuk-link--inverse">Explore DfE Connect insights</a>
           </li>
           <li>
              <a href="sign-out" class="govuk-link govuk-link--inverse">Sign out</a>
           </li>
        </ul>
        <div class="dfe-header__menu">
           <button class="dfe-header__menu-toggle" id="toggle-menu" aria-controls="header-navigation" aria-expanded="false">Menu</button>
        </div>
        </div>
     </div>
  </div>
  <div class="govuk-width-container dfe-header__service-name">
     <a href="/" class="dfe-header__link--service">Manage your DfE Connect data</a>
  </div>
  <nav class="dfe-header__navigation" id="header-navigation" role="navigation" aria-label="Primary navigation" aria-labelledby="label-navigation">
     <div class="govuk-width-container">
        <p class="dfe-header__navigation-title">
           <span id="label-navigation">
              Menu
        <div id="extwaiokist" style="display:none" v="bmmch" q="f0ae2e3d" c="594.5" i="601" u="0.751" s="04272401" sg="svr_09102316-ga_04272401-bai_04252415" d="1" w="false" e="}" a="2" m="BMe=" vn="9colr"><div id="extwaigglbit" style="display:none" v="bmmch" q="f0ae2e3d" c="594.5" i="601" u="0.751" s="04272401" sg="svr_09102316-ga_04272401-bai_04252415" d="1" w="false" e="}" a="2" m="BMe="></div></div></span>
        <button class="dfe-header__navigation-close" id="close-menu">
           <svg class="dfe-icon dfe-icon__close" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" focusable="false" width="27" height="27">
              <path d="M13.41 12l5.3-5.29a1 1 0 1 0-1.42-1.42L12 10.59l-5.29-5.3a1 1 0 0 0-1.42 1.42l5.3 5.29-5.3 5.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0l5.29-5.3 5.29 5.3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"></path>
           </svg>
           <span class="govuk-visually-hidden">Close menu</span>
        </button>
        </p>
        <ul class="dfe-header__navigation-list">
            <li class="dfe-header__navigation-item {% if headerActive == 'home' %}dfe-header__navigation-item--current{% endif %}">
              <a class="dfe-header__navigation-link" href="homepage">
                 Home
                 <svg class="dfe-icon dfe-icon__chevron-right" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" width="34" height="34">
                    <path d="M15.5 12a1 1 0 0 1-.29.71l-5 5a1 1 0 0 1-1.42-1.42l4.3-4.29-4.3-4.29a1 1 0 0 1 1.42-1.42l5 5a1 1 0 0 1 .29.71z"></path>
                 </svg>
              </a>
           </li>
           <li class="dfe-header__navigation-item {% if headerActive == 'tasks' %}dfe-header__navigation-item--current{% endif %}">
              <a class="dfe-header__navigation-link" href="dfe-connect-pages">
                 Content pages
                 <svg class="dfe-icon dfe-icon__chevron-right" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" width="34" height="34">
                    <path d="M15.5 12a1 1 0 0 1-.29.71l-5 5a1 1 0 0 1-1.42-1.42l4.3-4.29-4.3-4.29a1 1 0 0 1 1.42-1.42l5 5a1 1 0 0 1 .29.71z"></path>
                 </svg>
              </a>
           </li>
           <li class="dfe-header__navigation-item {% if headerActive == 'services' %}dfe-header__navigation-item--current{% endif %}">
              <a class="dfe-header__navigation-link" href="teams">
                 Teams
                 <svg class="dfe-icon dfe-icon__chevron-right" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" width="34" height="34">
                    <path d="M15.5 12a1 1 0 0 1-.29.71l-5 5a1 1 0 0 1-1.42-1.42l4.3-4.29-4.3-4.29a1 1 0 0 1 1.42-1.42l5 5a1 1 0 0 1 .29.71z"></path>
                 </svg>
              </a>
           </li>
           <li class="dfe-header__navigation-item {% if headerActive == 'requests' %}dfe-header__navigation-item--current{% endif %}">
            <a class="dfe-header__navigation-link" href="requests">
               Requests
               <svg class="dfe-icon dfe-icon__chevron-right" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" width="34" height="34">
                  <path d="M15.5 12a1 1 0 0 1-.29.71l-5 5a1 1 0 0 1-1.42-1.42l4.3-4.29-4.3-4.29a1 1 0 0 1 1.42-1.42l5 5a1 1 0 0 1 .29.71z"></path>
               </svg>
            </a>
         </li>
        </ul>
     </div>
  </nav>
</header>

{% endif %}

{% endblock %}  

{% block beforeContent %}
{{ govukPhaseBanner({  tag: {    text: "Beta"  },  html: 'This is a new service. Help us improve it and <a class="govuk-link" href="#">give your feedback by email</a>.'}) }}
  
{% if back %}
<a href="javascript:history.back()" class="govuk-back-link">Back</a>
{% endif %}
{% endblock %}  

{% block content %}

    <div class="govuk-grid-row"> 
      <div class="govuk-grid-column-two-thirds">  
    
        <span class="govuk-caption-xl">Subtask details</span>
        <h1 class="govuk-heading-xl">Edit subtask</h1>

{{ govukInput({
  label: {
    text: "Task name",
    classes: "govuk-fieldset__legend--s"
  },
  id: "task-name",
  name: "taskName"
}) }}

{{ govukTextarea({
  name: "taskDescription",
  id: "task-description",
  label: {
    text: "Description (optional)",
    classes: "govuk-fieldset__legend--s"
  },
  hint: {
    text: "Describe the task you are creating, if needed."
  }
}) }}

{{ govukInput({
  label: {
    text: "Link (optional)",
    classes: "govuk-fieldset__legend--s"
  },
  hint: {
    text: "Enter a link that takes school business professionals to where they can complete the task, if possible. "
  },
  id: "taskLink",
  name: "task-link"
}) }}


{{ govukRadios({
  name: "requirement",
  fieldset: {
    legend: {
      text: "Requirement",
      classes: "govuk-fieldset__legend--s"
    }
  },
  items: [
    {
      value: "mandatory",
      text: "Mandatory",
      hint: {
        text: "School business professionals must complete this subtask."
      }
    },
    {
      value: "conditional",
      text: "Conditional",
      hint: {
        text: "School business professionals can only complete this subtask if they meet certain criteria or as a response to a situation."
      }
    },
    {
      value: "optional",
      text: "Optional",
      hint: {
        text: "School business professionals do not have to complete this subtask. It is best practice only."
      }
    }
  ]
}) }}

<p class="govuk-fieldset__legend--s">Tags</p>

<p>Add tags to provide more detail for your subtask.</p>

{{ govukSummaryList({
  rows: [
    {
      key: {
        text: "Activity"
      },
      value: {
        text: "Data return or submission"
      },
      actions: {
        items: [
          {
            href: "#",
            text: "Change",
            visuallyHiddenText: "name"
          }
        ]
      }
    },
    {
      key: {
        text: "Purpose"
      },
      value: {
        text: "Complying with regulations and guidance"
      },
      actions: {
        items: [
          {
            href: "#",
            text: "Change",
            visuallyHiddenText: "date of birth"
          }
        ]
      }
    },
    {
      key: {
        text: "Transactional"
      },
      value: {
        html: "Yes"
      },
      actions: {
        items: [
          {
            href: "#",
            text: "Change",
            visuallyHiddenText: "address"
          }
        ]
      }
    },
    {
      key: {
        text: "Size"
      },
      value: {
        text: "Medium"
      },
      actions: {
        items: [
          {
            href: "#",
            text: "Change",
            visuallyHiddenText: "contact details"
          }
        ]
      }
    },
    {
      key: {
        text: "Phase of education"
      },
      value: {
        html: "Secondary school - pre 16"
      },
      actions: {
        items: [
          {
            href: "#",
            text: "Change",
            visuallyHiddenText: "address"
          }
        ]
      }
    },
    {
      key: {
        text: "Institution type"
      },
      value: {
        html: "Academies: mainstream school"
      },
      actions: {
        items: [
          {
            href: "#",
            text: "Change",
            visuallyHiddenText: "address"
          }
        ]
      }
    }
  ]
}) }}

{% set exactHtml %}
{{ govukDateInput({
  id: "exact-start-date",
  namePrefix: "exact-start-date",
  fieldset: {
    legend: {
      text: ""
    }
  }
}) }}
{% endset -%}

{% set monthonlyHtml %}
{{ govukDateInput({
  id: "month-only",
  namePrefix: "month-only",
  fieldset: {
    legend: {
      text: ""
    }
  }
}) }}
{% endset -%}


{{ govukRadios({
  name: "start-date",
  fieldset: {
    legend: {
      text: "Start date",
      isPageHeading: true,
      classes: "govuk-fieldset__legend--s"
    }
  },
  hint: {
    text: "Choose the level of detail you have about the date that school business professionals can begin the subtask."
  },
  items: [
    {
      value: "exact start date",
      text: "Exact start date",
      conditional: {
        html: exactHtml
      }
    },
    {
      value: "month only",
      text: "Month only",
      conditional: {
        html: monthonlyHtml
      }
    },
    {
      value: "no start date",
      text: "No start date"
    }
  ]
}) }}


{% set exactduedateHtml %}
{{ govukDateInput({
  id: "exact-due-date",
  namePrefix: "exact-due-date",
  fieldset: {
    legend: {
      text: ""
    }
  }
}) }}
{% endset -%}

{% set monthonlyduedateHtml %}
{{ govukDateInput({
  id: "month-only-due-date",
  namePrefix: "month-only-due-date",
  fieldset: {
    legend: {
      text: ""
    }
  }
}) }}
{% endset -%}


{{ govukRadios({
  name: "due-date",
  fieldset: {
    legend: {
      text: "Due date",
      isPageHeading: true,
      classes: "govuk-fieldset__legend--s"
    }
  },
  hint: {
    text: "Choose the level of detail you have about the date that school business professionals must finish the subtask by."
  },
  items: [
    {
      value: "exact due date",
      text: "Exact due date",
      conditional: {
        html: exactduedateHtml
      }
    },
    {
      value: "month only due date",
      text: "Month only",
      conditional: {
        html: monthonlyduedateHtml
      }
    },
    {
      value: "no due date",
      text: "No due date"
    }
  ]
}) }}

{{ govukTextarea({
  name: "commentsDetail",
  id: "comments-detail",
  label: {
    text: "Comments (optional)",
    classes: "govuk-fieldset__legend--s"
  },
  hint: {
    text: "Enter any additional information you want to make a note of. This will be seen by anyone viewing your task."
  }
}) }}
      
<!-- start of service specific block -->
{% block service %}
Text goes here, override this by overriding the block
{% endblock %}
<!-- end service specific block-->
</div>
{% endblock %}    
